{% load static %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Example</title>
    <link rel="stylesheet" href="{% static 'All.css' %}" />

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
</head>

<body>
    <p>차트 그리기 연습</p>
    <div id="piechart" style="width: 900px; height: 500px;"></div>
</body>

<script type="text/javascript">
    /*라이브러리 로드*/
    /*Visualization API및 corechart패키지 최신버전으로 로드 */
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);
    /*comment %} Google Visualization API가 로드될 때 실행할 콜백을 설정*/
    

    function drawChart() {
                {% for item, value in item_list.items %}
                console.log(['{{item}}', '{{value}}'])
            {% endfor %}
        /*데이터셋팅*/ /*열 추가 -넣을 수 있는 타입들은 정해져있음 */
       var data = google.visualization.arrayToDataTable([
            ['name', 'item_count'],
            {% for item, value in item_list.items %}
                ['{{item}}', '{{value}}'],
            {% endfor %}
        ]);

        var options = {
          title: 'My Daily Activities'
        };


        /* 차트 그리기 */
        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
        } 
</script>


</html>